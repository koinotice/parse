
<html>
<head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <script src="https://unpkg.com/resclient@latest/dist/resclient.min.js"></script>
</head>
<body>
<h3>Resgate Hello World Example</h3>
<p>Try running it in two separate tabs!</p>
<p>The model can also be <a href="http://47.244.53.52:7200/api/hash/rooms">accessed via REST</a>.</p>
<div id="root"></div>
<script>
    const ResClient = resclient.default;

    let client = new ResClient('ws://47.244.53.52:7200');
    let root = document.getElementById('root');

    // Get the model from the service.
    client.get('hash.rooms').then(model => {

        model.on('change', () => {
            try {
                roomList = JSON.parse(model.message)
                console.log(roomList)
            }catch (e) {

            }

        });
    }).catch(err => {
        console.log(err)

    });

    client.get('hash.orders').then(model => {

        model.on('change', () => {
            try {
                roomList = JSON.parse(model.message)
                console.log(roomList)
            }catch (e) {

            }

        });
    }).catch(err => {
        console.log(err)

    });
    client.get('hash.blocks').then(model => {

        model.on('change', () => {
            try {
                roomList = JSON.parse(model.message)
                console.log(roomList)
            }catch (e) {

            }

        });
    }).catch(err => {
        console.log(err)

    });
</script>
</body>
</html>